\chapter{Sistema Desenvolvido}

Para validar a metodologia, foi desenvolvido um sistema computacional capaz de representar e simular o funcionamento de uma rede de distribuição, além de permitir a simulação de defeitos. Dentro desse sistema foi implementada a metodologia apresentada nesse trabalho e funcionalidades que simulam o comportamento dos demais sistemas necessários, como o SCADA e histórico de carga das redes.

O sistema foi desenvolvido utilizando a linguagem de programação C++, a qual oferece robustez e extensibilidade, tendo sido  utilizado o framework Qt \cite{QtSite} para o desenvolvido mais rápido, uma vez que o mesmo já disponibiliza componentes gráficos e de padrões de design já implementados.


A Fig. \ref{fig:mainWindow} apresenta as principais janelas do sistema. A janela principal (\ref{fig:mainWindow}-A) é onde são apresentadas as mensagens de resposta da metodologia e onde estão os menus de acesso as opções.  A janela de simulação de eventos (\ref{fig:mainWindow}-B) permite simular o envio de eventos de desarme dos equipamentos. Na parte superior dessa janela, existe um campo no qual é indicado qual equipamento a metodologia irá considerar como equipamento desarmado pela corrente de curto circuito. Apesar da lista conter inicialmente apenas os disjuntores, é possível executar a simulação de desarme para qualquer equipamento telecomandado das redes carregadas. A corrente do campo pré-falta é utilizada para o ajuste de carga e a data e hora usada para as simulações de fluxo de potência. Os demais campos são informações em relação ao estado do equipamento, tais como como fases sinalizadas (ABCN) e os estados de não religar 
(excluído) e se o controle está travado (bloqueio). A janela C (\ref{fig:mainWindow}-C) apresenta algumas opções da metodologia que podem ser configuradas, como o percentual de sobrecarga dos condutores e dos equipamentos de proteção, a queda máxima de tensão. A última janela (\ref{fig:mainWindow}-D) é apenas uma visualização da topologia da rede carregada.

%%Fig aqui.
\begin{figure}[ht]
\centering
\includegraphics[width=0.9\columnwidth]{img/ASE-Restoration}

\caption[Principais janelas do sistema desenvolvido]{Principais janelas do sistema desenvolvido\\A) Janela principal,\\B) Janela de simulação de eventos,\\C) Visualização das redes carregadas,\\D) Configurações de restrições.\label{fig:mainWindow}}

\end{figure}

O envio dessas informações é o gatilho de início da metodologia apresentada. Caso alguma informação estiver incorreta (por exemplo, equipamento de origem não é um equipamento telecomandado) o sistema não irá continuar e irá apresentar uma mensagem na janela principal avisando o motivo de ter interrompido o processamento.

Após o envio das informações para simulação, a metodologia necessita atualizar o estado das chaves do alimentador onde o defeito ocorreu e dos alimentadores que fazem fronteira com o mesmo. Para simular esse comportamento, o sistema apresenta uma lista das chaves contidas em tais alimentadores onde é possível mudar o estado das chaves. Isso pode ser visto na Fig \ref{fig:switchStatus}, onde as chaves marcadas são as que ao final terão o estado Fechado e as não marcadas terão o estado Aberto. Caso alguma operação de fechar leve a um ciclo na rede (lembrando que uma restrição é a radialidade do sistema), a metodologia é interrompida e uma mensagem é exibida na janela principal.

%%Fig Aqui.
\begin{figure}[ht]
\centering
\includegraphics[width=0.2\columnwidth]{img/EstadoChaves}

\caption{Requisição do estado das chaves.\label{fig:switchStatus}}

\end{figure}

Com o estado das chaves atualizado, a metodologia define a lista de equipamentos que podem ser utilizados para o restabelecimento automático e agora necessita obter mais informações sobre tais equipamentos, para só então executar as simulações. Para cada equipamento que poderá ser utilizado, o sistema apresenta a janela da Fig \ref{fig:switchSCADARequest}, onde são solicitadas as informações do estado atual do equipamento telecomandado. As informações solicitadas são o estado (Aberto/Fechado) da chave, a existência da sinalização da passagem da corrente de curto por alguma fase, o estado de comunicação, se a chave está excluída (não religar) e se o equipamento está em bloqueio. Também é solicitada a corrente pré-falta de cada equipamento, porém esse valor somente é considerado para os disjuntores dos alimentadores.

%%Fig Aqui
\begin{figure}[ht]
\centering
\includegraphics[width=0.3\columnwidth]{img/SwitchSCADARequest}

\caption{Requisição das informações de um equipamento telecomandado.\label{fig:switchSCADARequest}}

\end{figure}

Nesse ponto o sistema já dispõe de todas informações necessárias para executar as simulações, tanto de operação da rede quanto das manobras de isolamento e transferência de carga. Como resultado é obtida uma sequência de manobras que podem ser executadas, na qual são incluídas as manobras que violam as restrições, sendo que estas o sistema não coloca como executáveis. A Fig \ref{fig:maneuversWindows} apresenta um exemplo de manobras que contemplam o isolamento de defeitos (chave 5103) e a transferência (SLE - 47), sendo que a última não está marcada para execução por existirem restrições em um equipamento de proteção (5203 com 90.62\% de carga). Nessa última janela é possível aplicar as manobras (inclusive as que estão com algum tipo de sobrecarga), bastando marcar as manobras e clicar em Ok. Essa aplicação das manobras é útil para simular a ocorrência de novos defeitos quando a rede se encontra em estado de contingência.


%%fig Aqui
\begin{figure}[ht]
\centering
\includegraphics[width=0.4\columnwidth]{img/maneuversOptions}

\caption{Opções de manobras simuladas.\label{fig:maneuversWindows}}

\end{figure}






